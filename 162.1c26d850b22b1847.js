"use strict";(self.webpackChunkmy_ng3=self.webpackChunkmy_ng3||[]).push([[162],{162:(N,h,l)=>{l.r(h),l.d(h,{MyFormModule:()=>I});var p=l(9808),m=l(6010),e=l(7587);let v=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-my-form"]],decls:9,vars:0,consts:[[1,"cmp-title"],[1,"cmp-label"],[1,"cmp-nav"],["routerLink","./simple-form"]],template:function(t,r){1&t&&(e.TgZ(0,"header",0),e.TgZ(1,"h2",1),e._uU(2,"My Form"),e.qZA(),e.TgZ(3,"nav",2),e.TgZ(4,"ul"),e.TgZ(5,"li"),e.TgZ(6,"a",3),e._uU(7,"Simple Form"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(8,"router-outlet"))},directives:[m.yS,m.lC],styles:[""]}),o})(),y=(()=>{class o{constructor(){let t=localStorage.getItem("my-form");this.data=t?JSON.parse(t):{siblings:[]}}updateStorage(){localStorage.setItem("my-form",JSON.stringify(this.data)),console.debug(this.data)}update(t){this.data=t,this.updateStorage()}getData(){return this.data}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=l(727);class C extends b.w0{constructor(n,t){super()}schedule(n,t=0){return this}}const d={setInterval(...o){const{delegate:n}=d;return((null==n?void 0:n.setInterval)||setInterval)(...o)},clearInterval(o){const{delegate:n}=d;return((null==n?void 0:n.clearInterval)||clearInterval)(o)},delegate:void 0};var A=l(8737),T=l(6063);class u{constructor(n,t=u.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}u.now=T.l.now;const _=new class M extends u{constructor(n,t=u.now){super(n,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class S extends C{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){if(this.closed)return this;this.state=n;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,r=0){return d.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;d.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let s,r=!1;try{this.work(n)}catch(a){r=!0,s=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A.P)(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});var F=l(4482),x=l(5403),i=l(3075);function O(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"label",13),e.TgZ(2,"b"),e._uU(3,"Name "),e.TgZ(4,"span",14),e._uU(5),e.qZA(),e.qZA(),e._UZ(6,"input",15),e.qZA(),e.TgZ(7,"button",16),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw().removeSiblings(a)}),e.TgZ(8,"i",10),e._uU(9,"delete_forever"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=n.index;e.xp6(5),e.Oqu(t+1),e.xp6(1),e.Q6J("formControlName",t)}}let P=(()=>{class o{constructor(t){this.fb=t,this.update=new e.vpe}ngOnInit(){this.formGroup=this.fb.group({name:[this.data.name],age:[this.data.age],gender:[this.data.gender],address:[this.data.address],siblings:this.fb.array((this.data.siblings||[]).map(t=>this.fb.control([t])))}),this.formGroup.valueChanges.pipe(function w(o,n=_){return(0,F.e)((t,r)=>{let s=null,a=null,g=null;const f=()=>{if(s){s.unsubscribe(),s=null;const c=a;a=null,r.next(c)}};function J(){const c=g+o,Z=n.now();if(Z<c)return s=this.schedule(void 0,c-Z),void r.add(s);f()}t.subscribe(new x.Q(r,c=>{a=c,g=n.now(),s||(s=n.schedule(J,o),r.add(s))},()=>{f(),r.complete()},void 0,()=>{a=s=null}))})}(1e3)).subscribe(t=>this.update.emit(t))}get formSiblings(){return this.formGroup.get("siblings")}addSiblings(){this.formSiblings.push(this.fb.control(null))}removeSiblings(t){this.formSiblings.removeAt(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-simple-form"]],inputs:{data:"data"},outputs:{update:"update"},decls:36,vars:8,consts:[[3,"formGroup"],[1,"cmp-label"],["type","text","formControlName","name"],["type","number","formControlName","age"],["formControlName","gender"],[3,"value"],["formControlName","address"],["formArrayName","siblings"],[1,"st-flex"],["type","button",1,"cl-primary",3,"click"],[1,"material-icons"],["class","cmp-row-container",4,"ngFor","ngForOf"],[1,"cmp-row-container"],[1,"cmp-label","st-flex"],[1,"cmp-no","cl-number"],["type","text",1,"st-flex",3,"formControlName"],["type","button",1,"cl-warn",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"label",1),e.TgZ(2,"b"),e._uU(3,"Name"),e.qZA(),e._UZ(4,"input",2),e.qZA(),e.TgZ(5,"label",1),e.TgZ(6,"b"),e._uU(7,"Age"),e.qZA(),e._UZ(8,"input",3),e.qZA(),e.TgZ(9,"label",1),e.TgZ(10,"b"),e._uU(11,"Gender"),e.qZA(),e.TgZ(12,"select",4),e.TgZ(13,"option",5),e._uU(14,"-- Please select --"),e.qZA(),e.TgZ(15,"option",5),e._uU(16,"Male"),e.qZA(),e.TgZ(17,"option",5),e._uU(18,"Female"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"label",1),e.TgZ(20,"b"),e._uU(21,"Address"),e.qZA(),e._UZ(22,"textarea",6),e.qZA(),e.TgZ(23,"div",7),e.TgZ(24,"div",1),e.TgZ(25,"b"),e._uU(26,"Siblings"),e.qZA(),e.TgZ(27,"span",8),e.TgZ(28,"button",9),e.NdJ("click",function(){return r.addSiblings()}),e.TgZ(29,"i",10),e._uU(30,"add"),e.qZA(),e._uU(31," Sibling "),e.qZA(),e.qZA(),e.qZA(),e.YNc(32,O,10,2,"div",11),e.qZA(),e.qZA(),e.TgZ(33,"code"),e._uU(34),e.ALo(35,"json"),e.qZA()),2&t&&(e.Q6J("formGroup",r.formGroup),e.xp6(13),e.Q6J("value",null),e.xp6(2),e.Q6J("value","male"),e.xp6(2),e.Q6J("value","female"),e.xp6(15),e.Q6J("ngForOf",r.formSiblings.controls),e.xp6(2),e.Oqu(e.lcZ(35,6,r.formGroup.value)))},directives:[i.JL,i.sg,i.Fj,i.JJ,i.u,i.wV,i.EJ,i.YN,i.Kr,i.CE,p.sg],pipes:[p.Ts],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;grid-row-gap:.5em;row-gap:.5em}.cmp-label[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:stretch;min-height:2em}.cmp-label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{width:13ch}.cmp-label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] > .cmp-no[_ngcontent-%COMP%]{flex:1 0 auto}.cmp-label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .cmp-label[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], .cmp-label[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%], .cmp-label[_ngcontent-%COMP%] > .st-flex[_ngcontent-%COMP%]{flex:1 0 auto}.cmp-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-left:13ch}.cmp-row-container[_ngcontent-%COMP%] > .st-flex[_ngcontent-%COMP%]{flex:1 0 auto}.cmp-row-container[_ngcontent-%COMP%]   .cmp-label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]:after{margin-left:.5ch}"]}),o})();const q=[{path:"",component:v,children:[{path:"",redirectTo:"simple-form",pathMatch:"full"},{path:"simple-form",component:(()=>{class o{constructor(t){this.dataService=t}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-simple-form-page"]],decls:3,vars:1,consts:[[3,"data","update"]],template:function(t,r){1&t&&(e.TgZ(0,"h3"),e._uU(1,"Simple Form"),e.qZA(),e.TgZ(2,"app-simple-form",0),e.NdJ("update",function(a){return r.dataService.update(a)}),e.qZA()),2&t&&(e.xp6(2),e.Q6J("data",r.dataService.getData()))},directives:[P],styles:[""]}),o})()}]}];let U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(q)],m.Bz]}),o})(),I=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,i.UX,U]]}),o})()}}]);